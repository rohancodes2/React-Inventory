{"ast":null,"code":"var _jsxFileName = \"/Users/rohan/capstone_project/src/components/DeleteItem2.js\";\nimport React, { Component, useState, useEffect } from \"react\";\nimport { deleteProduct, setProduct } from \"../Redux/Actions/ActionCreators\";\nimport { connect } from 'react-redux';\nimport { useHistory } from \"react-router-dom\";\nimport axios from 'axios';\nimport './DeleteItem.css';\n\nclass DeleteItem2 extends Component {\n  constructor(props) {\n    super(props); //console.log(\"in item2\"+props.selectAll)\n\n    this.handler = e => {\n      this.props.setProduct(this.props.data);\n    };\n\n    this.onChange = e => {\n      if (e.target.checked) {\n        console.log('change recorded +ve', this.state.checked);\n        this.props.selectItems(true, this.state.product);\n        this.setState({\n          checked: true\n        });\n      } else {\n        console.log('change recorded -ve', this.state.checked);\n        this.props.selectItems(false, this.state.product);\n        this.setState({\n          checked: false\n        });\n      }\n\n      this.forceUpdate();\n    };\n\n    this.delItems = () => {\n      this.props.selectItems(false, this.state.product);\n\n      if (window.confirm(\"Are you sure you want to delete this item?\")) {\n        axios.delete(`http://localhost:3000/products/${this.state.product.id}`).then(res => {\n          console.log(res);\n          console.log(res.data);\n        });\n        console.log(\"In del items\", this.state.product);\n        deleteProduct(this.state.product);\n        this.props.deleted(this.state.product);\n      }\n    };\n\n    this.state = {\n      checked: false,\n      product: this.props.data\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({\n      checked: nextProps.selectAll,\n      product: nextProps.data\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"card w-75 maincontainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      class: \"container \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"checkbox\",\n      onChange: this.onChange,\n      checked: this.state.checked,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      class: \"checkmark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"card-body \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      class: \"card-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }\n    }, \" \", this.state.product.productName), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 74\n      }\n    }, this.state.product.id), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }\n    }, \"\\xA0\\xA0 Price: \", /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        display: \"inline\",\n        color: 'red'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 32\n      }\n    }, \"\\u20B9\", this.state.product.price), \"\\xA0\\xA0Description: \", this.state.product.productDescription, \"\\xA0\\xA0Manufacturer: \", this.state.product.manufacturer), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        float: 'right'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      id: \"delete\",\n      onClick: this.delItems,\n      class: \"btn darkitem text-white btn-lg  \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 12\n      }\n    }, \"delete\"), \"\\xA0\"))), \" \");\n  }\n\n} // \n\n\nconst mapStateToProps = state => {\n  return {\n    products: state.products,\n    product: state.product\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    deleteProduct: prod => dispatch(deleteProduct(prod)),\n    setProduct: prod => dispatch(setProduct(prod))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DeleteItem2);","map":{"version":3,"sources":["/Users/rohan/capstone_project/src/components/DeleteItem2.js"],"names":["React","Component","useState","useEffect","deleteProduct","setProduct","connect","useHistory","axios","DeleteItem2","constructor","props","handler","e","data","onChange","target","checked","console","log","state","selectItems","product","setState","forceUpdate","delItems","window","confirm","delete","id","then","res","deleted","componentWillReceiveProps","nextProps","selectAll","render","productName","display","color","price","productDescription","manufacturer","float","mapStateToProps","products","mapDispatchToProps","dispatch","prod"],"mappings":"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","sourcesContent":["import React, { Component,useState,useEffect } from \"react\";\nimport { deleteProduct, setProduct } from \"../Redux/Actions/ActionCreators\";\nimport {connect} from 'react-redux'\nimport { useHistory } from \"react-router-dom\";\nimport axios from 'axios';\nimport './DeleteItem.css'\n\nclass DeleteItem2 extends Component {\n    constructor(props){\n        super(props);\n        //console.log(\"in item2\"+props.selectAll)\n       this.state = {\n            checked:false,\n            product:this.props.data\n           }\n    }\n    \n   handler=(e)=>{\n        this.props.setProduct(this.props.data)\n        \n        \n         }\n     \n    \n     onChange=(e)=>{\n        if(e.target.checked){\n            console.log('change recorded +ve',this.state.checked)\n            this.props.selectItems(true,this.state.product)\nthis.setState({checked:true})\n        }else{\n            console.log('change recorded -ve',this.state.checked)\n            this.props.selectItems(false,this.state.product)\nthis.setState({checked:false})     \n        }\n        this.forceUpdate();\n      }\n      componentWillReceiveProps(nextProps) {\n        this.setState({ checked: nextProps.selectAll ,\n                         product:nextProps.data });  \n      }\n      delItems=()=>{\n        this.props.selectItems(false,this.state.product)\n        if (window.confirm(\"Are you sure you want to delete this item?\")){\n           \n            axios.delete(`http://localhost:3000/products/${this.state.product.id}`)\n            .then(res => {\n              console.log(res);\n              console.log(res.data);\n            })\n            console.log(\"In del items\",this.state.product)\n            deleteProduct(this.state.product);\n            this.props.deleted(this.state.product)\n          \n        }\n         \n        \n      }\n    render() {\n        return (<div> \n    \n             <div class=\"card w-75 maincontainer\">\n          <label class=\"container \"><input type=\"checkbox\" onChange={this.onChange}checked={this.state.checked}/>\n          <span class=\"checkmark\"></span></label>\n          \n          <div class=\"card-body \">\n            <h5 class=\"card-title\"> {this.state.product.productName}</h5><p>{this.state.product.id}</p>\n        <p>\n           &nbsp;&nbsp; Price: <p style={{display:\"inline\",color:'red'}} >â‚¹{this.state.product.price}</p>\n           &nbsp;&nbsp;Description: {this.state.product.productDescription}\n           &nbsp;&nbsp;Manufacturer: {this.state.product.manufacturer} \n           </p>\n           <div style={{float:'right'}}>\n           <button id=\"delete\" onClick={this.delItems}class=\"btn darkitem text-white btn-lg  \">delete</button>&nbsp;\n           </div>\n            \n          </div>\n        </div> </div>  );\n    }\n}\n\n       // \n       \n       \n\nconst mapStateToProps = state =>{\n  return {\n    products:state.products,\n    product: state.product\n  }\n}\nconst mapDispatchToProps = dispatch =>{\n  return {\n    deleteProduct:prod=>dispatch(deleteProduct(prod)),\n    setProduct:prod=>dispatch(setProduct(prod))\n  }\n}\n\nexport default connect(mapStateToProps,mapDispatchToProps)(DeleteItem2);"]},"metadata":{},"sourceType":"module"}