{"ast":null,"code":"var _jsxFileName = \"/Users/rohan/capstone_project/src/components/SignIn.js\";\nimport React, { useState } from \"react\";\nimport { Route, useHistory } from \"react-router-dom\";\nimport { useFormik, yupToFormErrors } from 'formik';\nimport * as Yup from 'yup';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\n\nconst SignIn = props => {\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const validationSchema = Yup.object({\n    username: Yup.string().required('*Username is required'),\n    password: Yup.string().required('*Password is required')\n  });\n  const formik = useFormik({\n    initialValues: {\n      username: '',\n      password: ''\n    },\n    onSubmit: values => {\n      console.log(values);\n      setError(null);\n      setLoading(true);\n      axios.post('http://localhost:3002/users', {\n        username: values.username,\n        password: values.password\n      }).then(response => {\n        setLoading(false);\n        console.log(response); //   setUserSession(response.data.token, response.data.user);\n        //   props.history.push('/dashboard');\n      }).catch(error => {\n        setLoading(false);\n        if (error.response.status === 401) setError(error.response.data.message);else setError(\"Something went wrong. Please try again later.\");\n      }); // let x=JSON.stringify(values, null, 2);\n      //ProductActions.addProduct(x)\n    },\n    validationSchema\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: 1000\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"form-group\",\n    onSubmit: formik.handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, \"Username:\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control\",\n    id: \"username\",\n    name: \"username\",\n    type: \"text\",\n    onChange: formik.handleChange,\n    onBlur: formik.handleBlur,\n    value: formik.values.username,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }), formik.errors.username && formik.touched.username ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 56\n    }\n  }, /*#__PURE__*/React.createElement(\"h7\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 61\n    }\n  }, formik.errors.username)) : null, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 129\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 8\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control\",\n    id: \"password\",\n    name: \"password\",\n    type: \"password\",\n    onChange: formik.handleChange,\n    onBlur: formik.handleBlur,\n    value: formik.values.password,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }), formik.errors.password && formik.touched.password ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 56\n    }\n  }, /*#__PURE__*/React.createElement(\"h7\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 61\n    }\n  }, formik.errors.password)) : null, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 129\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary btn-lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, \"Login\")));\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {};\n};\n\nconst useFormInput = initialValue => {\n  const [value, setValue] = useState(initialValue);\n\n  const handleChange = e => {\n    setValue(e.target.value);\n  };\n\n  return {\n    value,\n    onChange: handleChange\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(SignIn);","map":{"version":3,"sources":["/Users/rohan/capstone_project/src/components/SignIn.js"],"names":["React","useState","Route","useHistory","useFormik","yupToFormErrors","Yup","connect","axios","SignIn","props","error","setError","loading","setLoading","validationSchema","object","username","string","required","password","formik","initialValues","onSubmit","values","console","log","post","then","response","catch","status","data","message","width","handleSubmit","handleChange","handleBlur","errors","touched","color","mapDispatchToProps","dispatch","useFormInput","initialValue","value","setValue","e","target","onChange"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Route, useHistory } from \"react-router-dom\";\n  import { useFormik, yupToFormErrors } from 'formik';\n  import * as Yup from 'yup';\n  import {connect} from 'react-redux'\n  import axios from 'axios';\n\n  const SignIn = (props) => {\n    const [error, setError] = useState(null);\n    const [loading, setLoading] = useState(false);\n    const validationSchema = Yup.object(\n     {\n         username: Yup.string().required(\n             '*Username is required'\n         ),\n        password: Yup.string().required(\n          '*Password is required'\n         ),\n     })\n    \n    const formik = useFormik({\n      initialValues:{\n        username:'',\n        password:''\n  \n      },\n      onSubmit: values => {\n        console.log(values)\n        setError(null);\n        setLoading(true);\n        axios.post('http://localhost:3002/users', { username: values.username, password: values.password }).then(response => {\n          setLoading(false);\n          console.log(response)\n       //   setUserSession(response.data.token, response.data.user);\n       //   props.history.push('/dashboard');\n        }).catch(error => {\n          setLoading(false);\n          if (error.response.status === 401) setError(error.response.data.message);\n          else setError(\"Something went wrong. Please try again later.\");\n        });\n      // let x=JSON.stringify(values, null, 2);\n       //ProductActions.addProduct(x)\n      },\n      validationSchema\n  \n    });\n   \n    return (\n      <div style={{width:1000}}>\n     <form className='form-group'onSubmit={formik.handleSubmit}>\n      <label htmlFor=\"username\">Username:</label>\n        <input\n        className='form-control'\n          id=\"username\"\n          name=\"username\"\n          type=\"text\"\n          onChange={formik.handleChange}\n          onBlur={formik.handleBlur}\n          value={formik.values.username}\n        /> \n      {formik.errors.username&&formik.touched.username?<div><h7 style={{color: \"red\"}}>{formik.errors.username}</h7></div>:null}<br></br>\n       \n       <label htmlFor=\"password\">Password</label>\n        <input\n        className='form-control'\n          id=\"password\"\n          name=\"password\"\n          type=\"password\"\n          onChange={formik.handleChange}\n          onBlur={formik.handleBlur}\n          value={formik.values.password}\n        /> \n      {formik.errors.password&&formik.touched.password?<div><h7 style={{color: \"red\"}}>{formik.errors.password}</h7></div>:null}<br></br>\n        <button type=\"submit\" className='btn btn-primary btn-lg'>Login</button>\n      </form>\n      </div>\n    );\n  \n    \n  };\n  const mapDispatchToProps = dispatch =>{\n      return {\n     \n      }\n    }\n    const useFormInput = initialValue => {\n        const [value, setValue] = useState(initialValue);\n      \n        const handleChange = e => {\n          setValue(e.target.value);\n        }\n        return {\n          value,\n          onChange: handleChange\n        }\n      }\n    export default connect(null,mapDispatchToProps)(SignIn)\n  \n\n\n"]},"metadata":{},"sourceType":"module"}